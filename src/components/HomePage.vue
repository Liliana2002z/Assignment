<template>
  <div class="container my-5">
    <div class="row">
      <div class="col-12 text-center">
        <h1>Welcome to {{ appName }}!</h1>
        <p class="lead mt-3">This is a space for listening and sharing. (BR C & D Demo)</p>
      </div>
    </div>
    
    <div class="row mt-4">
      <div class="col-md-8 mx-auto">
        <div class="card p-4 shadow-sm">
          <h2 class="card-title">About this web</h2>
          <p>
            According to BR (A.1), BR (A.2), BR (B.1) and BR (B.2).
          </p>
        </div>
      </div>
    </div>
    
    <div class="row mt-4">
      <div class="col-md-6">
        <InteractiveTable 
          title="User Activity and Points"
          table-id="userPointsTable"
          :headers="['ID', 'Name', 'Role', 'Points', 'Last Activity']"
          :column-defs="userPointsColumnDefs"
          :table-data="userPointsData"
        />
      </div>
      <div class="col-md-6">
        <InteractiveTable 
          title="Community Post Performance"
          table-id="postPerformanceTable"
          :headers="['ID', 'Title', 'Author', 'Avg. Rating', 'Comments']"
          :column-defs="postPerformanceColumnDefs"
          :table-data="postPerformanceData"
        />
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref } from 'vue';
import InteractiveTable from './InteractiveTable.vue'; // ç¡®ä¿è·¯å¾„æ­£ç¡®

// å¯¼å…¥ Mock æ•°æ®
// ç¡®ä¿è¿™äº› JSON æ–‡ä»¶åœ¨ src/data ç›®å½•ä¸‹å­˜åœ¨
import userPointsData from '../data/UserPointsData.json';
import postPerformanceData from '../data/PostPerformanceData.json';

// Use ref() to define dynamic data
const appName = ref('HealthYouth');
// åŸå§‹ About Text çš„ ref å·²ç§»é™¤ï¼Œä¿ç•™äº† card å†…å®¹

// ğŸŒŸ å®šä¹‰ DataTables æ‰€éœ€çš„åˆ—å®šä¹‰ (å‘Šè¯‰ DataTables å¦‚ä½•æ˜ å°„ JSON å­—æ®µ)
const userPointsColumnDefs = [
    { data: 'id' }, 
    { data: 'name' }, 
    { data: 'role' }, 
    { data: 'points' },
    { data: 'last_activity' }
];

const postPerformanceColumnDefs = [
    { data: 'id' }, 
    { data: 'title' }, 
    { data: 'author_name' }, 
    { data: 'avg_rating' }, 
    { data: 'total_comments' }
];

</script>

<style scoped>
h1 {
  color: #0d6efd; /* Bootstrap primary color */
}
</style>